{% extends 'base.html' %}

{% block title %}Checkout | E-commerce Site{% endblock %}

{% block content %}
<div class="container mx-auto px-4" x-data="{ step: 1 }">
  <h1 class="text-3xl font-bold mb-8 text-center">Checkout</h1>
  <div class="flex mb-8">
    <div class="w-1/3 text-center" :class="{ 'text-blue-500 font-bold': step === 1 }">
      <span class="inline-block w-8 h-8 rounded-full bg-blue-500 text-white" :class="{ 'bg-gray-300': step !== 1 }">1</span>
      <span class="ml-2">Shipping</span>
    </div>
    <div class="w-1/3 text-center" :class="{ 'text-blue-500 font-bold': step === 2 }">
      <span class="inline-block w-8 h-8 rounded-full bg-blue-500 text-white" :class="{ 'bg-gray-300': step !== 2 }">2</span>
      <span class="ml-2">Payment</span>
    </div>
    <div class="w-1/3 text-center" :class="{ 'text-blue-500 font-bold': step === 3 }">
      <span class="inline-block w-8 h-8 rounded-full bg-blue-500 text-white" :class="{ 'bg-gray-300': step !== 3 }">3</span>
      <span class="ml-2">Confirmation</span>
    </div>
  </div>
  <form action="#" method="POST" class="bg-white shadow-lg rounded-lg p-8" @submit.prevent="step = Math.min(step + 1, 3)">
    <div x-show="step === 1">
      <h2 class="text-2xl font-semibold mb-4">Shipping Information</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="first_name" class="block text-gray-700 mb-2">First Name</label>
          <input type="text" id="first_name" name="first_name" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="last_name" class="block text-gray-700 mb-2">Last Name</label>
          <input type="text" id="last_name" name="last_name" class="w-full p-2 border rounded" required>
        </div>
        <div class="md:col-span-2">
          <label for="address" class="block text-gray-700 mb-2">Address</label>
          <input type="text" id="address" name="address" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="city" class="block text-gray-700 mb-2">City</label>
          <input type="text" id="city" name="city" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="zip" class="block text-gray-700 mb-2">ZIP Code</label>
          <input type="text" id="zip" name="zip" class="w-full p-2 border rounded" required>
        </div>
      </div>
    </div>
    <div x-show="step === 2">
      <h2 class="text-2xl font-semibold mb-4">Payment Information</h2>
      <div class="mb-4">
        <label for="card_number" class="block text-gray-700 mb-2">Card Number</label>
        <input type="text" id="card_number" name="card_number" class="w-full p-2 border rounded" required>
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="expiry" class="block text-gray-700 mb-2">Expiry Date</label>
          <input type="text" id="expiry" name="expiry" placeholder="MM/YY" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="cvv" class="block text-gray-700 mb-2">CVV</label>
          <input type="text" id="cvv" name="cvv" class="w-full p-2 border rounded" required>
        </div>
      </div>
    </div>
    <div x-show="step === 3">
      <h2 class="text-2xl font-semibold mb-4">Order Confirmation</h2>
      <p class="mb-4">Thank you for your order! Your order number is <strong>#12345</strong>.</p>
      <p>We'll send you an email with the order details and tracking information once your order ships.</p>
    </div>
    <div class="mt-8 flex justify-between">
      <button type="button" @click="step = Math.max(step - 1, 1)" x-show="step > 1" class="bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition duration-200">
        Previous
      </button>
      <button type="submit" x-show="step < 3" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-200">
        <span x-text="step === 2 ? 'Place Order' : 'Next'"></span>
      </button>
    </div>
  </form>
</div>
{% endblock %}